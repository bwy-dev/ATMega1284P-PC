.global write_line
.global start_up
.equ TCCR1B,   0x81
.equ OCR1AH,   0x89
.equ OCR1AL,   0x88
.equ TIMSK1,   0x6F
.equ OC1Aaddr, 0x0D
.equ PORTA,    0x02

.org OC1Aaddr
            rjmp write_line     ;    

start_up:   ldi r16, 0b00001001 ; set timer1 to clock
            sts TCCR1B, r16     ;
            ldi r16, 0b00000110 ; set timer1 match interrupts
            sts TIMSK1, r16     ;
            ldi r16, hi8(800)   ; set interrupt timings to
            sts OCR1AH, r16     ; 800 cycles.
            ldi r16, lo8(800)   ;
            sts OCR1AL, r16     ;
            sei                 ; set global interrupts


write_line: lds r18, 0x0370
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            out PORTA, r18;
            nop;
            nop;
            nop;
            inc r18;
            reti;